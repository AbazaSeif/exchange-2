/* exchange - v2.0.0 */
function checkForAdditionalTimer(a,b,c){var d=c.getAttribute("id");$.ajax({type:"POST",url:"/transport/checkForAdditionalTimer",dataType:"json",data:{id:a},success:function(e){if(e.end){(new Timer).init(e.now,e.end,d,b,a),$("#"+d).addClass("add-t")}else{var f=$("#"+d);f.removeClass("add-t"),"t-container"==d&&f.removeClass("open");var g=f.parent().parent().parent();g.hasClass("transport")&&g.addClass("hide"),c.innerHTML='<span class="t-closed">Перевозка закрыта</span>',$(".r-submit").length&&($(".r-submit").addClass("disabled"),$(".rate-wrapper").slideUp("slow"))}}})}function updateEventCount(a){setInterval(function(){$.ajax({type:"POST",dataType:"json",url:"/transport/getevents/",cache:!1,data:{userId:a},success:function(a){parseInt(a)?$("#event-counter").html(a):$("#event-counter").html("")}})},12e4)}!function(a){a.fn.easyTooltip=function(b){var c,d={xOffset:10,yOffset:25,tooltipId:"easyTooltip",clickRemove:!1,content:"",useElement:""},b=a.extend(d,b);this.each(function(){var d=a(this).text()+"<br/>"+a(this).attr("title");a(this).hover(function(e){if(c=""!=b.content?b.content:d,c=""!=b.useElement?a("#"+b.useElement).html():c,a(this).attr("title",""),""!=c&&void 0!=c){var f='<div id="'+b.tooltipId+'" class="easytooltip" style="visibility: inherit; border: 0px none; padding: 0px; background-image: none; background-color: transparent; opacity: 0.95"><table border="0" cellpadding="0" style="border-spacing: 0"><tbody><tr><td class="tip-top tip-bg-image" colspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td><td class="tip-right tip-bg-image" rowspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td><td style="widht: 100%"><div class="tip-inner tip-bg-image" style="background-image: url(/images/tip-darkgray.png)">'+c+'</div></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2" style="background-image: url(/images/tip-darkgray.png)"><span></span></td></tr></tbody></table><div class="tip-arrow tip-arrow-bottom" style="visibility: inherit;"><span></span></div></div>';a("body").append(f);var f=a("#"+b.tooltipId),g=a("#"+b.tooltipId).height();f.css("position","absolute").css("top",e.pageY-b.yOffset-g+"px").css("left",e.pageX+b.xOffset-35+"px").css("display","none").fadeIn("fast")}},function(){a("#"+b.tooltipId).remove(),a(this).attr("title",d)}),a(this).mousemove(function(c){var d=a("#"+b.tooltipId),e=d.height();d.css("top",c.pageY-b.yOffset-e+"px").css("left",c.pageX+b.xOffset-35+"px")}),b.clickRemove&&a(this).mousedown(function(c){a("#"+b.tooltipId).remove(),a(this).attr("title",d)})})}}(jQuery),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){var b={init:function(b){var c={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,alwaysShowScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},b=a.extend(!0,c,b);return this.each(function(){var c=a(this);if(b.set_width&&c.css("width",b.set_width),b.set_height&&c.css("height",b.set_height),a(document).data("mCustomScrollbar-index")){var d=parseInt(a(document).data("mCustomScrollbar-index"));a(document).data("mCustomScrollbar-index",d+1)}else a(document).data("mCustomScrollbar-index","1");c.wrapInner("<div class='mCustomScrollBox mCS-"+b.theme+"' id='mCSB_"+a(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+a(document).data("mCustomScrollbar-index"));var e=c.children(".mCustomScrollBox");if(b.horizontalScroll){e.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var f=e.children(".mCSB_h_wrapper");f.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:f.children().outerWidth(),position:"relative"}).unwrap()}else e.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var g=e.children(".mCSB_container");a.support.touch&&g.addClass("mCS_touch"),g.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var h=e.children(".mCSB_scrollTools"),i=h.children(".mCSB_draggerContainer"),j=i.children(".mCSB_dragger");if(b.horizontalScroll?j.data("minDraggerWidth",j.width()):j.data("minDraggerHeight",j.height()),b.scrollButtons.enable&&(b.horizontalScroll?h.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>"):h.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")),e.bind("scroll",function(){c.is(".mCS_disabled")||e.scrollTop(0).scrollLeft(0)}),c.data({mCS_Init:!0,mCustomScrollbarIndex:a(document).data("mCustomScrollbar-index"),horizontalScroll:b.horizontalScroll,scrollInertia:b.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:b.mouseWheel,mouseWheelPixels:b.mouseWheelPixels,autoDraggerLength:b.autoDraggerLength,autoHideScrollbar:b.autoHideScrollbar,alwaysShowScrollbar:b.alwaysShowScrollbar,snapAmount:b.snapAmount,snapOffset:b.snapOffset,scrollButtons_enable:b.scrollButtons.enable,scrollButtons_scrollType:b.scrollButtons.scrollType,scrollButtons_scrollSpeed:b.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:b.scrollButtons.scrollAmount,autoExpandHorizontalScroll:b.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:b.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:b.advanced.normalizeMouseWheelDelta,contentTouchScroll:b.contentTouchScroll,onScrollStart_Callback:b.callbacks.onScrollStart,onScroll_Callback:b.callbacks.onScroll,onTotalScroll_Callback:b.callbacks.onTotalScroll,onTotalScrollBack_Callback:b.callbacks.onTotalScrollBack,onTotalScroll_Offset:b.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:b.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:b.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1}),b.horizontalScroll)"none"!==c.css("max-width")&&(b.advanced.updateOnContentResize||(b.advanced.updateOnContentResize=!0));else if("none"!==c.css("max-height")){var k=!1,l=parseInt(c.css("max-height"));c.css("max-height").indexOf("%")>=0&&(k=l,l=c.parent().height()*k/100),c.css("overflow","hidden"),e.css("max-height",l)}if(c.mCustomScrollbar("update"),b.advanced.updateOnBrowserResize){var m,n=a(window).width(),o=a(window).height();a(window).bind("resize."+c.data("mCustomScrollbarIndex"),function(){m&&clearTimeout(m),m=setTimeout(function(){if(!c.is(".mCS_disabled")&&!c.is(".mCS_destroyed")){var b=a(window).width(),d=a(window).height();n===b&&o===d||("none"!==c.css("max-height")&&k&&e.css("max-height",c.parent().height()*k/100),c.mCustomScrollbar("update"),n=b,o=d)}},150)})}if(b.advanced.updateOnContentResize){if(b.horizontalScroll)var p=g.outerWidth();else var p=g.outerHeight();setInterval(function(){if(b.horizontalScroll){b.advanced.autoExpandHorizontalScroll&&g.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:g.outerWidth(),position:"relative"}).unwrap();var a=g.outerWidth()}else var a=g.outerHeight();a!=p&&(c.mCustomScrollbar("update"),p=a)},300)}})},update:function(){var b=a(this),c=b.children(".mCustomScrollBox"),d=c.children(".mCSB_container");d.removeClass("mCS_no_scrollbar"),b.removeClass("mCS_disabled mCS_destroyed"),c.scrollTop(0).scrollLeft(0);var e=c.children(".mCSB_scrollTools"),f=e.children(".mCSB_draggerContainer"),g=f.children(".mCSB_dragger");if(b.data("horizontalScroll")){var h=e.children(".mCSB_buttonLeft"),i=e.children(".mCSB_buttonRight"),j=c.width();b.data("autoExpandHorizontalScroll")&&d.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:d.outerWidth(),position:"relative"}).unwrap();var k=d.outerWidth()}else var l=e.children(".mCSB_buttonUp"),m=e.children(".mCSB_buttonDown"),n=c.height(),o=d.outerHeight();if(o>n&&!b.data("horizontalScroll")){e.css("display","block");var p=f.height();if(b.data("autoDraggerLength")){var q=Math.round(n/o*p),r=g.data("minDraggerHeight");if(q<=r)g.css({height:r});else if(q>=p-10){var s=p-10;g.css({height:s})}else g.css({height:q});g.children(".mCSB_dragger_bar").css({"line-height":g.height()+"px"})}var t=g.height(),u=(o-n)/(p-t);b.data("scrollAmount",u).mCustomScrollbar("scrolling",c,d,f,g,l,m,h,i);var v=Math.abs(d.position().top);b.mCustomScrollbar("scrollTo",v,{scrollInertia:0,trigger:"internal"})}else if(k>j&&b.data("horizontalScroll")){e.css("display","block");var w=f.width();if(b.data("autoDraggerLength")){var x=Math.round(j/k*w),y=g.data("minDraggerWidth");if(x<=y)g.css({width:y});else if(x>=w-10){var z=w-10;g.css({width:z})}else g.css({width:x})}var A=g.width(),u=(k-j)/(w-A);b.data("scrollAmount",u).mCustomScrollbar("scrolling",c,d,f,g,l,m,h,i);var v=Math.abs(d.position().left);b.mCustomScrollbar("scrollTo",v,{scrollInertia:0,trigger:"internal"})}else c.unbind("mousewheel focusin"),b.data("horizontalScroll")?g.add(d).css("left",0):g.add(d).css("top",0),b.data("alwaysShowScrollbar")?b.data("horizontalScroll")?b.data("horizontalScroll")&&g.css({width:f.width()}):g.css({height:f.height()}):(e.css("display","none"),d.addClass("mCS_no_scrollbar")),b.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1})},scrolling:function(b,d,e,f,g,h,i,j){function k(a,b,c,d){n.data("horizontalScroll")?n.mCustomScrollbar("scrollTo",f.position().left-b+d,{moveDragger:!0,trigger:"internal"}):n.mCustomScrollbar("scrollTo",f.position().top-a+c,{moveDragger:!0,trigger:"internal"})}function l(a){f.data("preventAction")||(f.data("preventAction",!0),n.mCustomScrollbar("scrollTo",a,{trigger:"internal"}))}function m(){var a=n.data("scrollButtons_scrollSpeed");return"auto"===n.data("scrollButtons_scrollSpeed")&&(a=Math.round((n.data("scrollInertia")+100)/40)),a}var n=a(this);if(!n.data("bindEvent_scrollbar_drag")){var o,p,q,r,s;a.support.pointer?(q="pointerdown",r="pointermove",s="pointerup"):a.support.msPointer&&(q="MSPointerDown",r="MSPointerMove",s="MSPointerUp"),a.support.pointer||a.support.msPointer?(f.bind(q,function(b){b.preventDefault(),n.data({on_drag:!0}),f.addClass("mCSB_dragger_onDrag");var c=a(this),d=c.offset(),e=b.originalEvent.pageX-d.left,g=b.originalEvent.pageY-d.top;e<c.width()&&e>0&&g<c.height()&&g>0&&(o=g,p=e)}),a(document).bind(r+"."+n.data("mCustomScrollbarIndex"),function(a){if(a.preventDefault(),n.data("on_drag")){var b=f,c=b.offset(),d=a.originalEvent.pageX-c.left,e=a.originalEvent.pageY-c.top;k(o,p,e,d)}}).bind(s+"."+n.data("mCustomScrollbarIndex"),function(a){n.data({on_drag:!1}),f.removeClass("mCSB_dragger_onDrag")})):(f.bind("mousedown touchstart",function(b){b.preventDefault(),b.stopImmediatePropagation();var c,d,e=a(this),g=e.offset();if("touchstart"===b.type){var h=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0];c=h.pageX-g.left,d=h.pageY-g.top}else n.data({on_drag:!0}),f.addClass("mCSB_dragger_onDrag"),c=b.pageX-g.left,d=b.pageY-g.top;c<e.width()&&c>0&&d<e.height()&&d>0&&(o=d,p=c)}).bind("touchmove",function(b){b.preventDefault(),b.stopImmediatePropagation();var c=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],d=a(this),e=d.offset(),f=c.pageX-e.left,g=c.pageY-e.top;k(o,p,g,f)}),a(document).bind("mousemove."+n.data("mCustomScrollbarIndex"),function(a){if(n.data("on_drag")){var b=f,c=b.offset(),d=a.pageX-c.left,e=a.pageY-c.top;k(o,p,e,d)}}).bind("mouseup."+n.data("mCustomScrollbarIndex"),function(a){n.data({on_drag:!1}),f.removeClass("mCSB_dragger_onDrag")})),n.data({bindEvent_scrollbar_drag:!0})}if(a.support.touch&&n.data("contentTouchScroll")&&!n.data("bindEvent_content_touch")){var t,u,v,w,x,y,z;d.bind("touchstart",function(b){b.stopImmediatePropagation(),t=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],u=a(this),v=u.offset(),x=t.pageX-v.left,w=t.pageY-v.top,y=w,z=x}),d.bind("touchmove",function(b){b.preventDefault(),b.stopImmediatePropagation(),t=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],u=a(this).parent(),v=u.offset(),x=t.pageX-v.left,w=t.pageY-v.top,n.data("horizontalScroll")?n.mCustomScrollbar("scrollTo",z-x,{trigger:"internal"}):n.mCustomScrollbar("scrollTo",y-w,{trigger:"internal"})})}if(n.data("bindEvent_scrollbar_click")||(e.bind("click",function(b){var c=(b.pageY-e.offset().top)*n.data("scrollAmount"),d=a(b.target);n.data("horizontalScroll")&&(c=(b.pageX-e.offset().left)*n.data("scrollAmount")),(d.hasClass("mCSB_draggerContainer")||d.hasClass("mCSB_draggerRail"))&&n.mCustomScrollbar("scrollTo",c,{trigger:"internal",scrollEasing:"draggerRailEase"})}),n.data({bindEvent_scrollbar_click:!0})),n.data("mouseWheel")&&(n.data("bindEvent_mousewheel")||(b.bind("mousewheel",function(a,b){var c,g=n.data("mouseWheelPixels"),h=Math.abs(d.position().top),i=f.position().top,j=e.height()-f.height();n.data("normalizeMouseWheelDelta")&&(b=b<0?-1:1),"auto"===g&&(g=100+Math.round(n.data("scrollAmount")/2)),n.data("horizontalScroll")&&(i=f.position().left,j=e.width()-f.width(),h=Math.abs(d.position().left)),(b>0&&0!==i||b<0&&i!==j)&&(a.preventDefault(),a.stopImmediatePropagation()),c=h-b*g,n.mCustomScrollbar("scrollTo",c,{trigger:"internal"})}),n.data({bindEvent_mousewheel:!0}))),n.data("scrollButtons_enable"))if("pixels"===n.data("scrollButtons_scrollType"))n.data("horizontalScroll")?(j.add(i).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",A,B),n.data({bindEvent_buttonsContinuous_x:!1}),n.data("bindEvent_buttonsPixels_x")||(j.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().left)+n.data("scrollButtons_scrollAmount"))}),i.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().left)-n.data("scrollButtons_scrollAmount"))}),n.data({bindEvent_buttonsPixels_x:!0}))):(h.add(g).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",A,B),n.data({bindEvent_buttonsContinuous_y:!1}),n.data("bindEvent_buttonsPixels_y")||(h.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().top)+n.data("scrollButtons_scrollAmount"))}),g.bind("click",function(a){a.preventDefault(),l(Math.abs(d.position().top)-n.data("scrollButtons_scrollAmount"))}),n.data({bindEvent_buttonsPixels_y:!0})));else if(n.data("horizontalScroll")){if(j.add(i).unbind("click"),n.data({bindEvent_buttonsPixels_x:!1}),!n.data("bindEvent_buttonsContinuous_x")){j.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollRight:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().left)+b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var A=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollRight"))};j.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",A),i.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollLeft:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().left)-b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var B=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollLeft"))};i.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",B),n.data({bindEvent_buttonsContinuous_x:!0})}}else if(h.add(g).unbind("click"),n.data({bindEvent_buttonsPixels_y:!1}),!n.data("bindEvent_buttonsContinuous_y")){h.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollDown:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().top)+b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var C=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollDown"))};h.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",C),g.bind("mousedown touchstart MSPointerDown pointerdown",function(a){a.preventDefault();var b=m();n.data({mCSB_buttonScrollUp:setInterval(function(){n.mCustomScrollbar("scrollTo",Math.abs(d.position().top)-b,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var D=function(a){a.preventDefault(),clearInterval(n.data("mCSB_buttonScrollUp"))};g.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",D),n.data({bindEvent_buttonsContinuous_y:!0})}n.data("autoScrollOnFocus")&&(n.data("bindEvent_focusin")||(b.bind("focusin",function(){b.scrollTop(0).scrollLeft(0);var c=a(document.activeElement);if(c.is("input,textarea,select,button,a[tabindex],area,object")){var e=d.position().top,f=c.position().top,g=b.height()-c.outerHeight();n.data("horizontalScroll")&&(e=d.position().left,f=c.position().left,g=b.width()-c.outerWidth()),(e+f<0||e+f>g)&&n.mCustomScrollbar("scrollTo",f,{trigger:"internal"})}}),n.data({bindEvent_focusin:!0}))),n.data("autoHideScrollbar")&&!n.data("alwaysShowScrollbar")&&(n.data("bindEvent_autoHideScrollbar")||(b.bind("mouseenter",function(a){b.addClass("mCS-mouse-over"),c.showScrollbar.call(b.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(a){b.removeClass("mCS-mouse-over"),"mouseleave"===a.type&&c.hideScrollbar.call(b.children(".mCSB_scrollTools"))}),n.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(b,d){function e(a){if(k.data("mCustomScrollbarIndex"))switch(this.mcs={top:n.position().top,left:n.position().left,draggerTop:q.position().top,draggerLeft:q.position().left,topPct:Math.round(100*Math.abs(n.position().top)/Math.abs(n.outerHeight()-m.height())),leftPct:Math.round(100*Math.abs(n.position().left)/Math.abs(n.outerWidth()-m.width()))},a){case"onScrollStart":k.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call(k,this.mcs);break;case"whileScrolling":k.data("whileScrolling_Callback").call(k,this.mcs);break;case"onScroll":k.data("onScroll_Callback").call(k,this.mcs);break;case"onTotalScrollBack":k.data("onTotalScrollBack_Callback").call(k,this.mcs);break;case"onTotalScroll":k.data("onTotalScroll_Callback").call(k,this.mcs)}}var f,g,h,i,j,k=a(this),l={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:k.data("scrollInertia"),scrollEasing:k.data("scrollEasing")},d=a.extend(l,d),m=k.children(".mCustomScrollBox"),n=m.children(".mCSB_container"),o=m.children(".mCSB_scrollTools"),p=o.children(".mCSB_draggerContainer"),q=p.children(".mCSB_dragger"),r=draggerSpeed=d.scrollInertia;if(!n.hasClass("mCS_no_scrollbar")&&(k.data({mCS_trigger:d.trigger}),k.data("mCS_Init")&&(d.callbacks=!1),b||0===b)){if("number"==typeof b)d.moveDragger?(f=b,b=k.data("horizontalScroll")?q.position().left*k.data("scrollAmount"):q.position().top*k.data("scrollAmount"),draggerSpeed=0):f=b/k.data("scrollAmount");else if("string"==typeof b){var s;s="top"===b?0:"bottom"!==b||k.data("horizontalScroll")?"left"===b?0:"right"===b&&k.data("horizontalScroll")?n.outerWidth()-m.width():"first"===b?k.find(".mCSB_container").find(":first"):"last"===b?k.find(".mCSB_container").find(":last"):k.find(b):n.outerHeight()-m.height(),1===s.length?(b=k.data("horizontalScroll")?s.position().left:s.position().top,f=b/k.data("scrollAmount")):f=b=s}if(k.data("horizontalScroll")){k.data("onTotalScrollBack_Offset")&&(h=-k.data("onTotalScrollBack_Offset")),k.data("onTotalScroll_Offset")&&(j=m.width()-n.outerWidth()+k.data("onTotalScroll_Offset")),f<0?(f=b=0,clearInterval(k.data("mCSB_buttonScrollLeft")),h||(g=!0)):f>=p.width()-q.width()?(f=p.width()-q.width(),b=m.width()-n.outerWidth(),clearInterval(k.data("mCSB_buttonScrollRight")),j||(i=!0)):b=-b;var t=k.data("snapAmount");t&&(b=Math.round(b/t)*t-k.data("snapOffset")),c.mTweenAxis.call(this,q[0],"left",Math.round(f),draggerSpeed,d.scrollEasing),c.mTweenAxis.call(this,n[0],"left",Math.round(b),r,d.scrollEasing,{onStart:function(){d.callbacks&&!k.data("mCS_tweenRunning")&&e("onScrollStart"),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&c.showScrollbar.call(o)},onUpdate:function(){d.callbacks&&e("whileScrolling")},onComplete:function(){d.callbacks&&(e("onScroll"),(g||h&&n.position().left>=h)&&e("onTotalScrollBack"),(i||j&&n.position().left<=j)&&e("onTotalScroll")),q.data("preventAction",!1),k.data("mCS_tweenRunning",!1),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&(m.hasClass("mCS-mouse-over")||c.hideScrollbar.call(o))}})}else{k.data("onTotalScrollBack_Offset")&&(h=-k.data("onTotalScrollBack_Offset")),k.data("onTotalScroll_Offset")&&(j=m.height()-n.outerHeight()+k.data("onTotalScroll_Offset")),f<0?(f=b=0,clearInterval(k.data("mCSB_buttonScrollUp")),h||(g=!0)):f>=p.height()-q.height()?(f=p.height()-q.height(),b=m.height()-n.outerHeight(),clearInterval(k.data("mCSB_buttonScrollDown")),j||(i=!0)):b=-b;var t=k.data("snapAmount");t&&(b=Math.round(b/t)*t-k.data("snapOffset")),c.mTweenAxis.call(this,q[0],"top",Math.round(f),draggerSpeed,d.scrollEasing),c.mTweenAxis.call(this,n[0],"top",Math.round(b),r,d.scrollEasing,{onStart:function(){d.callbacks&&!k.data("mCS_tweenRunning")&&e("onScrollStart"),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&c.showScrollbar.call(o)},onUpdate:function(){d.callbacks&&e("whileScrolling")},onComplete:function(){d.callbacks&&(e("onScroll"),(g||h&&n.position().top>=h)&&e("onTotalScrollBack"),(i||j&&n.position().top<=j)&&e("onTotalScroll")),q.data("preventAction",!1),k.data("mCS_tweenRunning",!1),k.data("autoHideScrollbar")&&!k.data("alwaysShowScrollbar")&&(m.hasClass("mCS-mouse-over")||c.hideScrollbar.call(o))}})}k.data("mCS_Init")&&k.data({mCS_Init:!1})}},stop:function(){var b=a(this),d=b.children().children(".mCSB_container"),e=b.children().children().children().children(".mCSB_dragger");c.mTweenAxisStop.call(this,d[0]),c.mTweenAxisStop.call(this,e[0])},disable:function(b){var c=a(this),d=c.children(".mCustomScrollBox"),e=d.children(".mCSB_container"),f=d.children(".mCSB_scrollTools"),g=f.children().children(".mCSB_dragger");d.unbind("mousewheel focusin mouseenter mouseleave touchend"),e.unbind("touchstart touchmove"),b&&(c.data("horizontalScroll")?g.add(e).css("left",0):g.add(e).css("top",0)),f.css("display","none"),e.addClass("mCS_no_scrollbar"),c.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var b=a(this);b.removeClass("mCustomScrollbar _mCS_"+b.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove(),a(document).unbind("mousemove."+b.data("mCustomScrollbarIndex")+" mouseup."+b.data("mCustomScrollbarIndex")+" MSPointerMove."+b.data("mCustomScrollbarIndex")+" MSPointerUp."+b.data("mCustomScrollbarIndex")),a(window).unbind("resize."+b.data("mCustomScrollbarIndex"))}},c={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(a,b,c,d,e,f){function g(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function h(){r||n.call(),r=g()-q,i(),r>=a._time&&(a._time=r>a._time?r+m-(r-a._time):r+m-1,a._time<r+1&&(a._time=r+1)),a._time<d?a._id=_request(h):p.call()}function i(){d>0?(a.currVal=l(a._time,s,u,d,e),t[b]=Math.round(a.currVal)+"px"):t[b]=c+"px",o.call()}function j(){m=1e3/60,a._time=r+m,_request=window.requestAnimationFrame?window.requestAnimationFrame:function(a){return i(),setTimeout(a,.01)},a._id=_request(h)}function k(){null!=a._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._id):clearTimeout(a._id),a._id=null)}function l(a,b,c,d,e){switch(e){case"linear":return c*a/d+b;case"easeOutQuad":return a/=d,-c*a*(a-2)+b;case"easeInOutQuad":return(a/=d/2)<1?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);case"easeOutCubic":return a/=d,a--,c*(a*a*a+1)+b;case"easeOutQuart":return a/=d,a--,-c*(a*a*a*a-1)+b;case"easeOutQuint":return a/=d,a--,c*(a*a*a*a*a+1)+b;case"easeOutCirc":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case"easeOutSine":return c*Math.sin(a/d*(Math.PI/2))+b;case"easeOutExpo":return c*(1-Math.pow(2,-10*a/d))+b;case"mcsEaseOut":var f=(a/=d)*a,g=f*a;return b+c*(.499999999999997*g*f+-2.5*f*f+5.5*g+-6.5*f+4*a);case"draggerRailEase":return(a/=d/2)<1?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b)}}var m,f=f||{},n=f.onStart||function(){},o=f.onUpdate||function(){},p=f.onComplete||function(){},q=g(),r=0,s=a.offsetTop,t=a.style;"left"===b&&(s=a.offsetLeft);var u=c-s;k(),j()},mTweenAxisStop:function(a){null!=a._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._id):clearTimeout(a._id),a._id=null)},rafPolyfill:function(){for(var a=["ms","moz","webkit","o"],b=a.length;--b>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"]}};c.rafPolyfill.call(),a.support.touch=!!("ontouchstart"in window),a.support.pointer=window.navigator.pointerEnabled,a.support.msPointer=window.navigator.msPointerEnabled;var d="https:"==document.location.protocol?"https:":"http:";a.event.special.mousewheel||document.write('<script src="'+d+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>'),a.fn.mCustomScrollbar=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist"):b.init.apply(this,arguments)}}(jQuery);var Timer=function(){};Timer.prototype={init:function(a,b,c,d,e){if(this.dateNow=new Date(a),this.endDate=new Date(b),this.transportId=e,this.status=d,this.str="#"+c,this.minUpdate=1e4,$(this.str).length>0){this.container=document.getElementById(c),this.numOfDays=[31,28,31,30,31,30,31,31,30,31,30,31],this.borrowed=0,this.years=0,this.months=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.updateNumOfDays(),this.updateCounter();var f=this;this.updateInterval=setInterval(function(){f.reloadCounter()},this.minUpdate)}},updateNumOfDays:function(){var a=this.dateNow,b=a.getFullYear();(b%4==0&&b%100!=0||b%400==0)&&(this.numOfDays[1]=29);var c=this;setTimeout(function(){c.updateNumOfDays()},new Date(b+1,0,1)-a)},datePartDiff:function(a,b,c){var d=b-a-this.borrowed;return this.borrowed=0,d>-1?d:(this.borrowed=1,c+d)},calculate:function(){var a=this.endDate;this.dateNow.setSeconds(this.dateNow.getSeconds()+1);var b=this.dateNow;this.seconds=this.datePartDiff(b.getSeconds(),a.getSeconds(),60),this.minutes=this.datePartDiff(b.getMinutes(),a.getMinutes(),60),this.hours=this.datePartDiff(b.getHours(),a.getHours(),24),this.days=this.datePartDiff(b.getDate(),a.getDate(),this.numOfDays[b.getMonth()]),this.months=this.datePartDiff(b.getMonth(),a.getMonth(),12),this.years=this.datePartDiff(b.getFullYear(),a.getFullYear(),0)},addLeadingZero:function(a){return a<10?"0"+a:a},formatTime:function(){this.seconds=this.addLeadingZero(this.seconds),this.minutes=this.addLeadingZero(this.minutes),this.hours=this.addLeadingZero(this.hours)},reloadCounter:function(){var a=this;$.ajax({type:"POST",dataType:"json",url:"/transport/getCurTime",cache:!1,data:{endDate:this.endDate},success:function(b){a.dateNow=new Date(b.date);var c=a.endDate;a.dateNow.setSeconds(a.dateNow.getSeconds()+1);var d=a.dateNow;if(a.seconds=a.datePartDiff(d.getSeconds(),c.getSeconds(),60),a.minutes=a.datePartDiff(d.getMinutes(),c.getMinutes(),60),a.hours=a.datePartDiff(d.getHours(),c.getHours(),24),a.days=a.datePartDiff(d.getDate(),c.getDate(),a.numOfDays[d.getMonth()]),a.months=a.datePartDiff(d.getMonth(),c.getMonth(),12),a.years=a.datePartDiff(d.getFullYear(),c.getFullYear(),0),parseInt(b.minUpdate)!=this.minUpdate){var e=a;a.minUpdate=parseInt(b.minUpdate),clearInterval(a.updateInterval),a.updateInterval=setInterval(function(){e.reloadCounter()},a.minUpdate)}}})},updateCounter:function(){if($(this.str).length>0){this.calculate(),this.formatTime();var a=months=days=hours=minutes=seconds="";if(this.years>0){var b="лет";1==this.years?b="год":2!=this.years&&3!=this.years&&4!=this.years||(b="года"),a="<span class='t-year'><strong>"+this.years+"</strong> "+b+" </span>"}if(this.months>0){var b="месяцев",c=this.months%10;1==this.months?b="месяц":2!=this.months&&3!=this.months&&4!=this.months||(b="месяца"),months="<span class='t-month'><strong>"+this.months+"</strong> "+b+" </span>"}if(this.days>0){var b="дней",c=this.days%10,d=Math.floor(this.days/10);1==c&&1!=d?b="день":2!=c&&3!=c&&4!=c||1==d||(b="дня"),days="<span class='t-days'><strong>"+this.days+"</strong> "+b+" </span>"}if(this.container.innerHTML=a+months+days+' <span class="t-time">'+this.hours+":"+this.minutes+":"+this.seconds+"</span>",void 0!==rateList.data&&void 0!==rateList.data.status&&(this.status=parseInt(rateList.data.status)),this.endDate>this.dateNow&&this.status){var e=this;setTimeout(function(){e.updateCounter()},1e3)}else{$(".ui-dialog-content").dialog("close"),$(".r-submit").length&&($(".r-submit").addClass("disabled"),$(".rate-wrapper").slideUp("slow")),this.container.innerHTML='<span class="t-closed"><img class="small-loading" src="/images/loading-small.gif"/>Обработка результатов</span>',$("#t-container").removeClass("open");var f=this;clearInterval(this.updateInterval),this.endDate<this.dateNow?refreshIntervalId=setInterval(function(){f.addCloseLabel(f.container,f.transportId,refreshIntervalId)},5e3):setTimeout(function(){f.addCloseLabelWithDelay(f.container,f.transportId,f.refreshIntervalId)},12e4)}}},addCloseLabelWithDelay:function(a,b,c){var d=this;c=setInterval(function(){d.addCloseLabel(a,b,c)},5e3)},addCloseLabel:function(a,b,c){var d=a.getAttribute("id"),e=d.indexOf("counter-");id=e>-1?d.substring(8):b,$.ajax({type:"POST",
url:"/transport/checkForTransportStatus",dataType:"json",data:{id:id},success:function(b){if(0==b){"t-container"==d&&$("#"+d).removeClass("open"),a.innerHTML='<span class="t-closed">Перевозка закрыта</span>',void 0!==c&&clearInterval(c);var e=$("#"+d).parent().parent().parent();e.hasClass("transport")&&e.addClass("hide")}}})}};var rateList={init:function(){this.container=$("#rates");var a=$("#rate-price");void 0===rateList.data.socket?rateList.load(this.container):(rateList.data.socket.on("setRate",function(a){a.dateCloseNew&&(rateList.data.dateCloseNew=a.dateCloseNew);var b=parseInt($("#rate-price").attr("init"));if(a.transportId==rateList.data.transportId){var c=a.price;rateList.data.nds&&(c=Math.ceil(c*(100+100*rateList.data.nds)/100))%100!=0&&(c-=c%100);var d=rateList.createElement(b,a.date,c,"",a.company),e=$.trim(rateList.containerElements);""!==e?($("#rates").html(e),$("#rates").prepend(d),rateList.containerElements=$("#rates").html()):($("#rates").prepend(d),rateList.containerElements=$("#rates").html())}}),rateList.data.socket.on("loadRates",function(a){$("#r-preloader").remove();for(var b=0;b<a.rows;b++){var c={price:a.arr[b][1],time:a.arr[b][2],company:a.arr[b][3],with_nds:0};rateList.add(c)}}),rateList.data.socket.on("errorRate",function(a){$("#maxRateVal").text(parseInt(a.price)),$("#errorRate").dialog("open")}),rateList.data.socket.on("closeRate",function(a){$("#closeTr").text(a.response),$("#closeRate").dialog("open")}),$("#rate-up").on("click",function(){var b=parseInt(a.val())+rateList.data.priceStep;b<=a.attr("init")&&(a.val(b),$("#rate-down").hasClass("disabled")&&$("#rate-down").removeClass("disabled")),b+rateList.data.priceStep>a.attr("init")&&$(this).addClass("disabled")}),$("#rate-up").mousedown(function(a){clearTimeout(this.downTimer),this.downTimer=setInterval(function(){$("#rate-up").trigger("click")},150)}).mouseup(function(a){clearInterval(this.downTimer)}),$("#rate-down").on("click",function(){var b=rateList.data.priceStep,c=a.val()-b;c>0&&(a.val(c),$("#rate-up").hasClass("disabled")&&$("#rate-up").removeClass("disabled")),c-b<=0&&$(this).addClass("disabled")}),$("#rate-down").mousedown(function(a){clearTimeout(this.downTimer),this.downTimer=setInterval(function(){$("#rate-down").trigger("click")},150)}).mouseup(function(a){clearInterval(this.downTimer)}),$(".r-submit").click(function(){socket.socket.connected?$(this).hasClass("disabled")||$.ajax({type:"POST",url:"/user/transport/checkStatus",dataType:"json",data:{id:rateList.data.transportId},success:function(a){a.allow?($("#setPriceVal").text(parseInt($("#rate-price").val())),$("#addRate").dialog("open"),rateList.data.time=a.time):($("#curStatus").text(a.status),$("#errorStatus").dialog("open"))}}):$("#errorSocket").dialog("open")}),$("#setRateBtn").live("click",function(){$("#addRate").dialog("close"),rateList.data.defaultRate&&$("#rates").html("");var a=parseInt($("#rate-price").val());rateList.data.nds&&(a=100*a/(100+100*rateList.data.nds)),$(this).attr("init",a);getTime();rateList.data.socket.emit("setRateToServer",{transportId:rateList.data.transportId,dateClose:rateList.data.dateClose,dateCloseNew:rateList.data.dateCloseNew,userId:rateList.data.userId,company:rateList.data.company,price:a,type:rateList.data.transportType,timedate:rateList.data.time,x:854})}),$("#rate-price").blur(function(){var a=parseInt($(this).val()),b=$(this).attr("init"),c=rateList.data.priceStep;a>b&&$(this).val(b),a<=0&&$(this).val(c);var d=a%c;0!=d&&(a-d>0?$(this).val(a-d):$(this).val(c),a=parseInt($(this).val())),parseInt($(this).val())-c<=0?$("#rate-down").addClass("disabled"):$("#rate-down").removeClass("disabled"),parseInt($(this).val())+c>$(this).attr("init")?$("#rate-up").addClass("disabled"):$("#rate-up").removeClass("disabled")}),$(document).keypress(function(a){13==a.which&&$("#rate-price").trigger("blur")}))},update:function(a,b,c){this.container.length>0&&(b=void 0!==b?b:"",$.ajax({type:"POST",url:"/transport/updateRates",dataType:"json",data:{id:this.data.transportId,newRate:b,step:this.data.priceStep},success:function(a){a.all.length&&rateList.data.socket.emit("setRate",{userName:c,price:b})}}))},load:function(a){this.container.length>0&&$.ajax({type:"POST",url:"/transport/updateRates",dataType:"json",data:{id:this.data.transportId,newRate:"",step:this.data.priceStep},success:function(a){if(a.all.length){var b=$("#rates"),c=49,d=0,e=b.scrollTop();e&&(d=e/c),rateList.container.html("");var f=parseInt($("#rate-price").attr("init"));if($.each(a.all,function(a,b){rateList.add(b,f)}),e&&b.scrollTop(c*(d+1)),a.price){var g=parseInt(a.price);rateList.data.nds&&(g+=g*rateList.data.nds);rateList.data.priceStep,rateList.data.priceStep,rateList.data.nds}}else rateList.container.after('<div id="no-rates">Нет предложений</div>')}})},add:function(a,b){var c=0,d=parseInt(a.price);d=Math.ceil(d+d*this.data.nds),a.id&&(c=a.id);var e=this.createElement(b,a.time,d,c,a.company,parseInt(a.with_nds),parseInt(a.price));this.container.prepend(e)},createElement:function(a,b,c,d,e,f,g){var h=e,i=h.indexOf("(");i>-1&&(h=h.substring(0,i)),a<c&&$("#rate-price").attr("init",c);var j="<div class='rate-one'>";if(d&&(j="<div id='"+d+"' class='rate-one'>"),j+="<div class='r-o-container'><span>"+b+"</span><div class='r-o-user'>"+h,j+="</div></div>",f&&rateList.data.trType){var k=Math.ceil(g+g*rateList.data.ndsValue);j+="<div class='price-container'><div class='r-o-price'>"+parseInt(c)+rateList.data.currency+"</div><div class='r-o-nds'>(c НДС: "+k+rateList.data.currency+") </div></div>"}else j+="<div class='r-o-price'>"+parseInt(c)+rateList.data.currency+"</div>";return j+="</div>"},getContainerHeight:function(){var a=0;return this.container.find(".rate-one").each(function(b){a+=$(this).outerHeight()}),a}},menu={init:function(){var a=parseInt(sessionStorage.getItem("menu")),b=parseInt(sessionStorage.getItem("submenu"));"null"!=a&&("null"!=this.countSubmenuElem&&a>=this.countSubmenuElem&&(a+=this.countSubmenuElem),$(".user-menu li").eq(a).find("a:first").addClass("menu-active")),"null"!=b&&(b=parseInt(b)-2,$("#submenu li").eq(b).find("a:first").addClass("menu-active")),$("#submenu>li>a").click(function(){$(this).hasClass("menu-active")||($("a.menu-active").removeClass("menu-active"),$(this).addClass("menu-active"),sessionStorage.setItem("menu",null),sessionStorage.setItem("submenu",$(this).parents("li").index()))}),$(".user-menu>li>a").click(function(){$(this).hasClass("menu-active")||($("a.menu-active").removeClass("menu-active"),$(this).addClass("menu-active"),sessionStorage.setItem("submenu",null),$(this).hasClass("exit")||$(this).hasClass("admin")?sessionStorage.setItem("menu",null):sessionStorage.setItem("menu",$(this).parents("li").index()))})}};$(window).load(function(){$(".items").mCustomScrollbar({scrollButtons:{enable:!0}})}),function(a){a("#dialog-connect").live("click",function(){a("#modalDialog").dialog("open")}),a(".ui-widget-overlay").live("click",function(){a(".ui-dialog-content").dialog("close")}),a("#abordRateBtn").live("click",function(){a(".ui-dialog-content").dialog("close")}),a("#errorRate .btn").live("click",function(){a(".ui-dialog-content").dialog("close")}),a("#errorStatus .btn").live("click",function(){a(".ui-dialog-content").dialog("close")}),a("#closeRate .btn").live("click",function(){a(".ui-dialog-content").dialog("close")}),a("#errorSocket .btn").live("click",function(){a(".ui-dialog-content").dialog("close")})}(jQuery),function(a){a.onlineEvent=function(b){var b=a.extend({time:5e3,speed:"slow",msg:null,id:null,className:null,evented:!1,position:{top:0,right:0}},b),c=a("#online-event");c.css("position","fixed").css({right:"auto",left:"auto",top:"auto",bottom:"auto"}).css(b.position);var d=a('<div class="event"></div>');c.append(d),d.click(function(){d.fadeOut(b.speed,function(){a(this).remove()})}),b.className&&d.addClass(b.className),d.html(b.msg),setTimeout(function(){d.fadeOut(b.speed,function(){a(this).remove()})},b.time)}}(jQuery);